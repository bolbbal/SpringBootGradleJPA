<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<div layout:fragment="content">
  <section>
    <div class="container page_title">
      <div class="col-md-12">
        <h1>投稿</h1>
      </div>
    </div>

    <div class="container myPageForm">
      <div class="col-md-12">
        <h3 th:text="${board.title}">title</h3>
        <div class="write-info">
          <span th:text="${board.writer}">nickname</span>
          <span th:text="${#temporals.format(board.modiDate, 'yyyy-MM-dd')}">date</span>
          <span th:text="${board.viewCount}">viewcount</span>
          <span th:text="${board.likeCount}">likecount</span>
          <span>commentcount</span>
        </div>
        <div class="container board-content">
          <p th:text="${board.content}"></p>
        </div>
        <div class="container">
          <button>likebutton</button>
          <span th:text="${board.likeCount}">likecount</span>
        </div>
        <div class="container">
          <form th:action="@{/boards/update/{id}(id=${board.id})}" method="get">
            <button type="submit">編集</button>
          </form>
          <form th:action="@{/boards/delete/{id}(id=${board.id})}" method="post">
            <button type="submit">削除</button>
          </form>
        </div>
        <div class="container">
          <th:block th:if="${board.prevId != null}">
            <a th:href="@{/boards/detail/{id}(id=${board.prevId})}">prev
              <p th:text="${board.prevTitle}"></p>
            </a>
          </th:block>
          <th:block th:if="${!(board.prevId != null)}">

              <p th:text="前の投稿がありません。"></p>

          </th:block>

          <th:block th:if="${board.nextId != null}">
            <a th:href="@{/boards/detail/{id}(id=${board.nextId})}">next
              <p th:text="${board.nextTitle}"></p>
            </a>
          </th:block>
          <th:block th:if="${!(board.nextId != null)}">

              <p th:text="次の投稿がありません。"></p>

          </th:block>
        </div>
      </div>
    </div>

    <div class="container">
      <form method="get" action="/comment/save" name="save">
        <input type="hidden" name="boardId" th:value="${board.id}">
        <textarea name="comment"></textarea>
        <button type="submit">登録</button>
      </form>
    </div>

    <div class="container">
      <h4>Comments</h4>
      <th:block th:each="comments, iterStat:${board.comments}">
        <h5 th:text="${comments.commenter}"></h5>
        <span th:text="${comments.comment}"></span>
        <span th:text="${#temporals.format(comments.regDate, 'yyyy-MM-dd')}"></span>
      </th:block>
    </div>
  </section>

</div>
</html>